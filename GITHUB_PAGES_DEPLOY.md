# ?????????? ?? GitHub Pages

## ??? 1: ?????????? ??????

????????? ?????? ??????:

```powershell
.\build-for-github-pages.ps1
```

???? ??????:
- ??????? header ? footer ?? ??? HTML ?????
- ????????? ??? ??????? (css, js, images, plugins)
- ??????? ????? `build` ? ???????? ???????

## ??? 2: ???????? ????? gh-pages

### ??????? ?: ????????? ????? build (?????????????)

```bash
# ???????? ? ????????????? ?? ????? gh-pages
git checkout --orphan gh-pages

# ??????? ??? ????? ?? ???????
git rm -rf .

# ?????????? ????? ?? build
cp -r build/* .

# ???????? ?????
git add .

# ???????????
git commit -m "Deploy to GitHub Pages"

# ????????? ?? GitHub
git push origin gh-pages

# ????????? ?? main/master
git checkout master
```

### ??????? ?: ?????????????? ?????????? ????? GitHub Actions

???????? ???? `.github/workflows/deploy.yml`:

```yaml
name: Deploy to GitHub Pages

on:
  push:
    branches: [ master ]

jobs:
  deploy:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v2
    
    - name: Build site
      run: |
        pwsh ./build-for-github-pages.ps1
    
    - name: Deploy to GitHub Pages
      uses: peaceiris/actions-gh-pages@v3
      with:
        github_token: ${{ secrets.GITHUB_TOKEN }}
        publish_dir: ./build
```

## ??? 3: ????????? GitHub Pages

1. ????????? ? Settings ?????? ???????????
2. ??????? ?????? "Pages"
3. ? Source ????????:
   - Branch: `gh-pages`
   - Folder: `/ (root)`
4. ??????? Save

## ??? 4: ????????

??? ???? ????? ???????? ?? ??????:
```
https://[???-username].github.io/megakit/
```

## ?????????? ?????

????? ????? ???????? ????:

1. ???????????? ????? ? ?????? `includes/`, `css/`, ? ?.?.
2. ????????? `.\build-for-github-pages.ps1`
3. ????????? ??? 2 (?????? ? push ? gh-pages)

---

## ????????????: ?????????? ?? ????? docs

???? ?? ?????? ???????????? ????????? ?????:

1. ???????? ??????, ????? ????????? ????? `docs` ?????? `build`
2. ? GitHub Pages Settings ???????? `master branch /docs folder`
3. ???????? ????? `docs` ? git ? ????????? ?? GitHub

```bash
git add docs/
git commit -m "Add built site"
git push origin master
```

---

## ?????!

????? ??????? ????????? ? `includes/header.html` ??? `includes/footer.html`:
1. ????????? ?????? ??????
2. ??????????? ????????? ? ????? gh-pages

??? ??????????, ?????? ??? GitHub Pages ?? ???????????? ???????????? ???????? ?????? ????? JavaScript.
